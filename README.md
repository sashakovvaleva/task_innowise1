Индекс в базе данных — это структура данных, которая ускоряет выполнение запросов к таблице, создавая эффективный способ доступа к данным. Он работает подобно указателю или оглавлению в книге: индекс позволяет быстро находить нужные записи, не просматривая всю таблицу.

Когда создается индекс, база данных сохраняет определённую часть данных в отдельной структуре (например, в B-дереве или хэш-таблице), чтобы сократить количество операций при поиске записей.

Плюсы использования индексов:

1 . Ускорение выборок данных (SELECT)
Индексы значительно повышают скорость выполнения запросов, которые фильтруют данные по индексированным столбцам.
Особенно эффективно для запросов, которые используют условия WHERE, JOIN, ORDER BY, GROUP BY.
2. Ускорение сортировки и агрегации
Индексы могут помочь с запросами, которые сортируют или группируют данные, так как база данных может быстрее получить отсортированный результат.
3. Уменьшение нагрузки на диск
Когда используется индекс, база данных может избегать полного чтения таблицы с диска, что сокращает количество операций ввода/вывода (I/O).
4. Ускорение JOIN-операций
Индексы на ключевых столбцах могут ускорить соединение (JOIN) таблиц, поскольку база данных может быстро сопоставить строки.

Минусы использования индексов
1. Замедление операций вставки (INSERT), обновления (UPDATE) и удаления (DELETE)
При изменении данных в таблице индексы тоже должны быть обновлены, что может замедлить выполнение операций записи.
2. Дополнительное место на диске
Индексы занимают дополнительное место в хранилище. Чем больше индексов, тем больше требуется места для хранения.
3. Сложность поддержки
Неправильное использование индексов или наличие слишком большого количества индексов может привести к обратному эффекту — ухудшению производительности.
4. Индекс не всегда используется
Оптимизатор запросов не всегда выбирает использовать индекс, особенно если запрос слишком сложный или данные неравномерно распределены.


Типы индексов:
B-дерево (B-tree)
Наиболее распространённый тип индексов.
Эффективен для диапазонных запросов (BETWEEN, >=, <=) и точных соответствий.
Строится на основе дерева, что обеспечивает быстрый поиск, вставку и удаление данных.


Хэш-индекс (Hash)
Быстрый доступ к данным по точному совпадению (=).
Не поддерживает диапазонные запросы и сортировку.
Применяется реже, например, для ключей в NoSQL базах.


Гистограммные индексы (GIN)
Применяются для индексации массивов, JSON, полнотекстового поиска.
Полезны для поиска по большим массивам данных, когда нужно проверить наличие значений в наборах.


Полнотекстовые индексы (Full-text)
Используются для поиска по текстовым данным.
Поддерживают запросы, где необходимо найти совпадение слов в текстах.


Bitmap-индексы
Используются для столбцов с небольшим количеством уникальных значений (например, для столбцов с булевыми значениями).
Эффективен в случаях, когда надо быстро выполнять сложные выборки с участием нескольких условий.


Кластерные индексы
Изменяют физический порядок хранения данных в таблице.
В таблице может быть только один кластерный индекс, так как он напрямую влияет на то, как хранятся данные.


Некластерные индексы
Сохраняют данные отдельно от основной таблицы, но содержат указатели на строки в таблице.
В одной таблице может быть несколько некластерных индексов.